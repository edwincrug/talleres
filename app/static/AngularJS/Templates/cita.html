<div class="contenedor" ng-init="init()"> 
	<div>
		<div class="formGroup">
			<label for="datosUnidad">Datos de la unidad:</label>
	    	<input  class="rounded" type="text" ng-model="datoUnidad">
	    	<button type="button" class="btn btn-primary" ng-click="lookUpUnidad(datoUnidad)">Buscar</button>
		</div>
    	</br>
    	<div id="subContenedor">
    		<table class="table table-condensed table-striped table-hover"> 
				<thead> 
					<tr> 
						<th>Número económico</th> 
						<th>Número económico cliente</th>
						<th>Marca</th>
						<th>Modelo</th>                        
						<th>Motor</th>									   
					</tr> 
				</thead> 
				<tbody> 
					<tr dir-paginate="unidad in unidades | itemsPerPage:5"> 
						<td>{{unidad.numEconomico}}</td> 
						<td>{{unidad.clienteNumEconomico}}</td>			
						<td>{{unidad.marca}}</td>
						<td>{{unidad.modelo}}</td>
						<td>{{unidad.motor}}</td>
						<td>
							<button class="btn btn-primary" type="button" ng-click="loopUpCitaServicio(unidad)">Seleccionar</button>
						</td>										
					</tr>                
				</tbody> 
			</table>
    	</div>
    	<div id="pagination">
			<dir-pagination-controls
		       	max-size="5"
		        direction-links="true"
		        boundary-links="true" >
		    </dir-pagination-controls>
		</div>	
    </div>
	
    <div> 
		<tabset>	      	
			<tab heading="Ficha técnica">
				</br> 
				<div ng-show="showFicha == true">
					<div class="panel panel-info">
				      	<div class="panel-heading"><h4>{{unidadInfo.marca}} {{unidadInfo.modelo}}</h4></div>
				        <div class="panel-body">
				      		<table class="table table-condensed table-striped table-hover"> 
								<thead> 
									<tr> 
										<th>Número económico</th> 
										<th>Número económico cliente</th>
										<th>Marca</th>
										<th>Modelo</th>                        
										<th>Motor</th>								   
									</tr> 
								</thead> 
								<tbody> 
									<tr> 
										<td>{{unidadInfo.numEconomico}}</td> 
										<td>{{unidadInfo.clienteNumEconomico}}</td>			
										<td>{{unidadInfo.marca}}</td>
										<td>{{unidadInfo.modelo}}</td>
										<td>{{unidadInfo.motor}}</td>
									</tr>                
								</tbody> 
							</table>		
				        </div>
				    </div>			
				</div>	   
			</tab>
			<tab heading="Citas">
				</br>
				<div>		
					<div data-ng-repeat="cita in citas" class="panel panel-info">
					    <div class="panel-heading"><h4>{{cita.fecha | date: 'medium'}}</h4></div>
					    <div class="panel-body">					 				
					      		<p>Taller: {{cita.razonSocial}}</p>				      
					      		<p>Dirección: {{cita.direccion}}</p>
					      		<p>Agendó: {{cita.nombreCompleto}}</p>									    
					    </div>
				    </div>		
				</div>		       	
			</tab>
			<tab heading="Servicios">
				</br>
				<div ng-show="hasRows == true">
					<div class="formGroup">
						<div class="inputLabel">
							<label>Número de cotización:</label>
							<input class="rounded" type="text" ng-model="numCotizacion.cotizacion.idCotizacion"></input>
						</div>
						<div class="inputLabel">
							<label>Descripción:</label>
							<input class="rounded" type="text" ng-model="numCotizacion.cotizacion.descripcion"></input>
						</div>
						<div class="inputLabel">
							<label>Fecha:</label>
							<input class="rounded" type="date" ng-model="numCotizacion.cotizacion.fecha"></input>
						</div>
					</div>  
					</br>	
					<div>
						<table class="table table-condensed table-striped"> 
							<thead> 
								<tr> 
									<th></th>
									<th>Número de cotización</th> 
									<th>Número económico</th>
									<th>Fecha</th>
									<th>Servicio</th>
									<th>Total</th>								   
								</tr> 
							</thead> 
							<tbody ng-repeat="c in cotizaciones | filter:numCotizacion"> 
								<tr> 
									<td class="CX"><button type="button">+</button></td>
									<td>{{c.cotizacion.idCotizacion}}</td> 
									<td>{{c.cotizacion.numEconomico}}</td>			
									<td>{{c.cotizacion.fecha | date: "medium"}}</td>	
									<td>{{c.cotizacion.descripcion}}</td>
									<td>{{c.cotizacion.total}}</td>
								</tr>   
								<tr class="sub">
									<td></td>
									<td colspan="5">
										<table class="tableData">
											<thead>
												<th></th>
												<th>Tipo de artículo</th>
												<th>Descripción</th>
												<th>Precio</th>
												<th>Cantidad</th>
												<th>Subtotal</th>
											</thead>
											<tbody ng-repeat="cd in c.cotizacion.cotizacionDetalle">
												<tr>	
													<td class="CX"><button ng-if="cd.idTipoElemento == 1" type="button">+</button></td>						
													<td>{{cd.tipoDescripcion}}</td>
													<td>{{cd.descripcion}}</td>
													<td>{{cd.precio}}</td>
													<td>{{cd.cantidad}}</td>
													<td>{{cd.subtotal}}</td>										
												</tr>
												<tr class="sub">
													<td colspan="3"></td>
													<td colspan="3">
														<table class="tableData">
															<thead>
																<tr>											
																	<th>Descripción</th>
																	<th>Número de parte</th>
																</tr>							
															</thead>
															<tbody>
																<tr ng-repeat="p in cd.paquete">
																	<td>{{p.item}}</td>
																	<td>{{p.numeroParte}}</td>
																</tr>
															</tbody>
														</table>
													</td>
												</tr>
											</tbody>
										</table>
									</td>
								</tr>           
							</tbody> 
						</table>
					</div>
			 	</div>								
			</tab>	    	      		
		</tabset>
    </div>
</div>
